<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link href="js/src/nv.d3.css" rel="stylesheet" type="text/css">
<link href="css/nav.css" rel="stylesheet" type="text/css" />

<style>

body {
  overflow-y:scroll;
}

text {
  font: 12px sans-serif;
}

svg {
  display: block;
}

.chart svg {
  height: 350px;
  min-width: 100px;
  min-height: 100px;
}
</style>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script type="text/javascript" src="js/jquery-1.9.1.js"></script>
<script src="js/lib/d3.v2.js"></script>
<script src="js/nv.d3.js"></script>
<script src="js/src/tooltip.js"></script>
<script src="js/src/utils.js"></script>
<script src="js/src/models/legend.js"></script>
<script src="js/src/models/axis.js"></script>
<script src="js/src/models/scatter.js"></script>
<script src="js/src/models/line.js"></script>
<script src="js/src/models/lineChart.js"></script>
<script src="js/plotgraphs.js"></script>
<script src="js/getJobDetails.js"></script>
<script src="js/timerGraphs.js"></script>
<script src="js/monitoringAgentsGraph.js"></script>
<script type="text/javascript">
    $(document).ready(function(){
    	var jobId = getQueryParams("jobid");
		//plotGraphs(jobId);
		plotTimerGraphs();
    window.isPlotted = new Array();
    $('.collapsible').click(function(){
          var id = $(this).attr("id");
          console.log(id);
          $("#"+id+"Container").slideToggle();
          var grpInd = id.substring(7);
          if(window.isPlotted[grpInd]== 1){
            console.log("graphs already plotted!!") 
          } else {
            var cnt = 0;
            for (var m=0;m<grpInd;m++) cnt+=window.timerLengths[m];
            window.stats[grpInd] = new Array();
            for(var p=0;p<window.timerLengths[grpInd];p++){
              returnTimerGraphs(window.timerUrls[cnt], grpInd,p);
              console.log("plotting: ", window.timerUrls[cnt]);
              cnt++;
            }
            window.isPlotted[grpInd]=1;
            //window.stats[grpInd].length=0;
          }
        });
    })
</script>
<title>Job Graphs</title>
<link href="css/collapsible.css" rel="stylesheet" type="text/css" />
</head>

<body>
<div id="header"></div>
<script>
	$(function(){
		$("#header").load('header.html');
	})
</script>
<div id="collapsibleMenu" style="width:80%;margin:0 auto;position:relative">
</div>
<div id="monitoringGraphs" style="width:80%;margin:0 auto;">
</div>
</body>
</html>
