<!DOCTYPE html>
<html lang="en">
<head>
    <script type="text/javascript" src="js/_lib/jquery.js"></script>
    <script type="text/javascript" src="js/jquery.jstree.js"></script>
    <script type="text/javascript" src="js/_lib/jquery.cookie.js"></script>
    <script type="text/javascript" src="js/bootstrap.js"></script>
    <script type="text/javascript" src="js/bootstrap-dropdown.js"></script>
    <script type="text/javascript" src="js/knockout-2.3.0-min.js"></script>
    <script type="text/javascript" src="js/jquery.multi-select.js"></script>
    <script type="text/javascript" src="js/jquery-ui.js"></script>
    <script type="text/javascript" src="js/bootstrap-combobox.js"></script>
    <script type="text/javascript" src="js/createUpdateRun.js"></script>
    <script type="text/javascript" src="js/manageRuns.js"></script>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/multi-select.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-combobox.css">
    <style type="text/css">
        .navbar .header-border {
            border-bottom:4px solid #E47911;
        }
        @media (min-width: 768px) {

            /* top row create*/
            .col{ 
                margin-bottom: -99999px;
                padding-bottom: 99999px;  
            }
            /* bottom row */
            .col-base{ 
                margin-top: -15px; /* cut off top portion of bottom wells */
            }
            }
            @media (max-width: 767px) {
                .row-fluid.base{
                    display:none;
                }
            }
            .col-wrap{
                overflow: hidden; 
            }
            .rightBlock{
                border-left: 1px solid #C2BCBC;
            }
            textarea { resize:none; }
    </style>
</head>
<body>
    <script type="text/javascript">
        $(function(){
            $("#navigation").load('header.html');
            $("#JSON").hide();
            window.dateObject = new Date();
            getBusinessUnits();
            getInputResourceFiles();
            getAllFunctionClasses();
            window.selectedView = 'ui';
            window.viewModel = new runJsonViewModel();
            ko.applyBindings(window.viewModel);
            createTree();
            selectNode(window.viewModel.nodeId);
            $("#showUI").click(function(){
                $("#JSON").hide();
                $("#showJsonLI").removeClass('active');
                $("#showUILI").addClass('active');
                $("#UI").show();
                $("#btngrp").addClass("offset4");
                window.selectedView = 'ui';
            });
            $("#showJson").click(function(){
                $("#UI").hide();
                $("#showUILI").removeClass('active');
                $("#showJsonLI").addClass('active');
                $("#runJson").val(JSON.stringify(createJsonFromView(), undefined, 4));
                $("#JSON").show();
                $("#btngrp").removeClass("offset4");
                window.selectedView = 'json';
            });
            initializeState(true);
            window.onbeforeunload = function(){
                if(window.createPressed) return null;
                if(window.viewModel.hasChanged())
                return "You have unsaved changes, If you move away you will loose your changes.";
                return null;
            }
        });
    </script>
    <!--Navigation Bar-->
    <div id="navigation">
    </div>
    <!--Navigation bar ends here-->
    <!--Adding the breadcrumb-->
    <ul class="breadcrumb">
        <li><a href="index.htm">Home</a> <span class="divider">/</span></li>
        <li><a href="#">Create Run</a> <span class="divider">/</span></li>
    </ul>
    <!--Breadcrumb ends-->
    <!--Alert msg-->
    <div id="alertBox">
        <div id="alertMsg" class="alert" style="display: none">
        </div>
    </div>
    <!--Buttons to switch view-->
    <div class="row-fluid">
        <ul class="nav nav-tabs">
            <li id="showUILI" class="active"><a href="#" id="showUI">UI</a></li>
            <li id="showJsonLI"><a href="#" id="showJson">Json</a></li>
        </ul>
    </div>
    <!--UI Divs Start-->
    <div id="UI">
    <div class="row-fluid col-wrap">
        <div class="span4 col well">
            <div id="runTree">
            </div>
        </div>
        <div class="span8 col well">
            <div class="row-fluid">
                <div data-bind="visible: isVisible">
                    <fieldset>
                        <legend>Run</legend>
                    </fieldset>
                    <div class="row-fluid">
                        <label class="span2">Run Name</label>
                        <input type="text" class="span4" data-bind="value: runName, refreshTree: runName">
                    </div>
                    <div class="row-fluid">
                        <div class="span6">
                            <label class="span4">Business Unit</label>
                            <select class="span8" data-bind="options: availableBus, value: selectedBu"></select>
                        </div>
                        <div class="span6">
                            <label class="span4">Team</label>
                            <select class="span8" data-bind="options: availableTeams, value: selectedTeam"></select>
                        </div>
                    </div>
                    <div class="row-fluid">
                        <label class="span2">Description</label>
                        <textarea rows="3" class="span10" data-bind="value: desc"></textarea>
                    </div>
                    <div class="row-fluid btn-group">
                        <button class="btn" data-bind="click: addLoadPart">Add Loadpart</button>
                        <button class="btn" data-bind="click: addMonitoringAgent">Add Monitoring Agent</button>
                    </div>
                </div>
                <div data-bind="visible: loadPartsVisible">
                    <div class="row-fluid btn-group">
                        <button class="btn" data-bind="click: addLoadPart">Add Loadpart</button>
                    </div>
                    <br/>
                    <br/>
                    <div class="row-fluid" data-bind="foreach: loadPart">
                        <div class="row-fluid">
                            <div class="thumbnail">
                                <div class="row-fluid">
                                    <div class="span6">
                                        <label class="span4">LoadPart Name</label>
                                        <input type="text" class="span8" data-bind="value: loadPartName, refreshTree: loadPartName">
                                    </div>
                                    <div class="span6">
                                        <button type='button' class='close pull-right' data-bind="event: {'click': $parent.deleteLoadPart}">×</button>
                                    </div>
                                </div>
                                <div class="row-fluid">
                                    <div class="span6">
                                        <label class="span4">Agents</label>
                                        <input id="duration" type="text" class="span8" data-bind="value: agents"/>
                                    </div>
                                    <div class="span6">
                                        <label class="span4">Log Level</label>
                                        <select class="span8" data-bind="options: logLevels, value: logLevel"></select>
                                    </div>
                                </div>
                            </div>
                        </div>  
                        <br/>
                    </div>
                </div>
                <div data-bind="visible: monAgentsVisible">
                    <div class="row-fluid btn-group">
                        <button class="btn" data-bind="click: addMonitoringAgent">Add Monitoring Agent</button>
                    </div>
                </div>
                <div class="row-fluid" data-bind="foreach: loadPart">
                    <div data-bind="visible: isVisible">
                        <fieldset>
                            <legend>Loadpart</legend>
                        </fieldset>
                        <div class="row-fluid">
                            <div class="span6">
                                <label class="span4">Loadpart Name</label>
                                <input type="text" class="span8" data-bind="value: loadPartName, refreshTree: loadPartName">
                            </div>
                        </div>
                        <div class="row-fluid">
                            <div class="span6">
                                <label class="span4">Agents</label>
                                <input type="text" class="span8" data-bind="value: agents">
                            </div>
                            <div class="span6">
                                <label class="span4">Log Level</label>
                                <select class="span8" data-bind="options: logLevels, value: logLevel"></select>
                            </div>
                        </div>
                        <br/>
                        <div class="accordion" data-bind="attr:{'id': accordionId}">
                            <div class="accordion-group">
                                <div class="accordion-heading">
                                    <a class="accordion-toggle" data-toggle="collapse" data-bind="attr:{'data-parent': accordionId, 'href':inputResourcesSelectIdHref}"><strong>Add Input Resource Files</strong></a>
                                </div>
                                <div class="row-fluid accordion-body collapse" data-bind="attr: {'id': inputResourcesSelectId}">
                                    <div class="accordion-inner">
                                        <select id="inputResourceList" multiple="multiple" data-bind="options: availableInputResources, selectedOptions: useInputResources, multiSelect: isVisible">
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="accordion" data-bind="attr:{'id': dataGenAccordionId}">
                            <div class="accordion-group">
                                <div class="accordion-heading">
                                    <a class="accordion-toggle" data-toggle="collapse" data-bind="attr:{'data-parent': dataGenAccordionId, 'href':dataGenIdHref}"><strong>Data Generators</strong>
                                    </a>
                                </div>
                                <div class="row-fluid accordion-body collapse" data-bind="attr: {'id': dataGenId}">
                                    <div class="accordion-inner">
                                        <div class="btn-group row-fluid">
                                            <button class="btn" data-bind="click: addDataGenerator">Add Data Generator</button>
                                        </div>
                                        <br/>
                                        <br/>
                                        <div data-bind="foreach: dataGenerators">
                                            <div class="row-fluid">
                                                <div class="thumbnail">
                                                    <div class="row-fluid">
                                                        <div class="span6">
                                                            <label class="span4">Name</label>
                                                            <input type="text" class="span8" data-bind="value: generatorName">
                                                        </div>
                                                        <div class="span5">
                                                            <label  class="span4">Type</label>
                                                            <select class="span8" data-bind="options: availableGeneratorTypes, value: generatorType">
                                                            </select>
                                                        </div>
                                                        <div class="span1">
                                                            <button type='button' class='close pull-right' data-bind="event: {'click': $parent.deleteDataGenerator}">×</button>
                                                        </div>
                                                    </div>
                                                    <div class="row-fluid" data-bind="if: isDefault">
                                                        <h6>Input Details</h6>
                                                    </div>
                                                    <div class="row-fluid" data-bind="if: isCounter">
                                                        <div class="row-fluid">
                                                                <div class="span6">
                                                                    <label class="span4">Start Value</label>
                                                                    <input type="text" data-bind="value: startValue">
                                                                </div>
                                                                <div class="span5">
                                                                    <label class="span4">Max Value</label>
                                                                    <input type="text" data-bind="value: maxValue">
                                                                </div>
                                                            </div>
                                                            <div class="row-fluid">
                                                                <div class="span6">
                                                                    <label class="span4">Jump</label>
                                                                    <input type="text" data-bind="value: jump">
                                                                </div>
                                                            </div>
                                                    </div>
                                                    <div class="row-fluid" data-bind="if: isFixedValue">
                                                        <div class="span6">
                                                            <label class="span4">Value</label>
                                                            <input type="text" data-bind="value: startValue">
                                                        </div>
                                                    </div>
                                                    <div class="row-fluid" data-bind="if: isRandomNumber">
                                                        <div class="span6">
                                                            <label class="span4">Maximum Value</label>
                                                            <input type="text" data-bind="value: maxValue">
                                                        </div>
                                                    </div>
                                                    <div class="row-fluid" data-bind="if: isRandomSelection">
                                                        <div class="row-fluid">
                                                            <button class="btn" data-bind="click: addToSelectionList">Add To List</button>  
                                                        </div>
                                                        <br/>
                                                        <div class="row-fluid" data-bind="foreach: selectionList">
                                                            <div class="row-fluid">
                                                                <div class="span6">
                                                                    <input type="text" data-bind="value: listValue">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromDisInfoList"><i class="icon-minus"></i></a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row-fluid" data-bind="if: isRandomString">
                                                        <div class="row-fluid">
                                                            <div class="span6">
                                                                <label class="span4">Type</label>
                                                                <select class="span8" data-bind="options:availableStringTypes, value:stringType"></select>
                                                            </div>
                                                            <div class="span6">
                                                                <label class="span4">Length</label>
                                                                <input type="text" data-bind="value: stringLength">
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid">
                                                            <div class="span6">
                                                                <label class="span4">Closed String</label>
                                                                <input type="text" data-bind="value: closedString">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row-fluid" data-bind="if: isCyclicSelection">
                                                            <div class="row-fluid">
                                                                <button class="btn" data-bind="click: addToSelectionList">Add To List</button>  
                                                            </div>
                                                            <br/>
                                                            <div class="row-fluid" data-bind="foreach: selectionList">
                                                                <div class="row-fluid">
                                                                    <div class="span6">
                                                                        <input type="text" data-bind="value: listValue">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromDisInfoList"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isUseAndRemove">
                                                            <div class="row-fluid">
                                                                <button class="btn" data-bind="click: addToSelectionList">Add To List</button>  
                                                            </div>
                                                            <br/>
                                                            <div class="row-fluid" data-bind="foreach: selectionList">
                                                                <div class="row-fluid">
                                                                    <div class="span6">
                                                                        <input type="text" data-bind="value: listValue">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromDisInfoList"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    <div class="row-fluid" data-bind="if: isRandomDistribution">
                                                        <div class="row-fluid">
                                                            <button class="btn" data-bind="click: addtoDisInfoList">Add Distribution Map</button>   
                                                        </div>
                                                        <br/>
                                                        <br/>
                                                        <div class="row-fluid" data-bind="foreach: distributionInfoList">
                                                            <div class="row-fluid">
                                                                <div class="span3">
                                                                    <label class="span4">Start</label>
                                                                    <input type="text" class="span8" data-bind="value: start">
                                                                </div>
                                                                <div class="span3">
                                                                    <label class="span4">End</label>
                                                                    <input type="text" class="span8" data-bind="value: end">
                                                                </div>
                                                                <div class="span3">
                                                                    <label class="span4">Value</label>
                                                                    <input type="text" class="span8" data-bind="value: val">
                                                                </div>
                                                                <div class="span3">
                                                                    <a class="btn btn-mini" data-bind="click: $parent.removeFromDisInfoList"><i class="icon-minus"></i></a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row-fluid btn-group">
                            <button class="btn" data-bind="click: addGroup">Add Group</button>
                            <button class="btn" data-bind="click: $parent.deleteLoadPart">Delete</button>
                        </div>
                    </div>
                    <div class="row-fluid" data-bind="visible: setupVisible">
                        <div class="row-fluid" data-bind="with: setupGroup">
                            <fieldset>
                                    <legend>Group Details</legend>
                            </fieldset>
                            <div class="row-fluid">
                                <label class="span3">Group Name</label>
                                <label class="span4" data-bind="text: groupName"></label>
                            </div>
                            <div class="row-fluid">
                                <div class="span6">
                                    <label class="span6">Group Start Delay</label>
                                    <input type="text" class="offset1 span5" data-bind="value: groupStartDelay"/>
                                </div>
                                <div class="span6">
                                    <label class="span6">Thread Start Delay</label>
                                    <input type="text" class="offset1 span5" data-bind="value: threadStartDelay"/>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span6">
                                    <label class="span6">Throughput</label>
                                    <input type="text" class="offset1 span5" data-bind="value: throughput"/>
                                </div>
                                <div class="span6">
                                    <label class="span6">Repeats</label>
                                    <input type="text" class="offset1 span5" data-bind="value: repeats"/>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span6">
                                    <label class="span6">Duration</label>
                                    <input type="text" class="offset1 span5" data-bind="value: duration"/>
                                </div>
                                <div class="span6">
                                    <label class="span6">Threads</label>
                                    <input type="text" class="offset1 span5" data-bind="value: threads"/>
                                </div>
                            </div>
                            <div class="accordion" data-bind="attr:{'id': dataGenAccordionId}">
                                <div class="accordion-group">
                                    <div class="accordion-heading">
                                        <a class="accordion-toggle" data-toggle="collapse" data-bind="attr:{'data-parent': dataGenAccordionId, 'href':dataGenIdHref}"><strong>Data Generators</strong></a>
                                    </div>
                                    <div class="row-fluid accordion-body collapse" data-bind="attr: {'id': dataGenId}">
                                        <div class="accordion-inner">
                                            <div class="btn-group row-fluid">
                                                <button class="btn" data-bind="click: addDataGenerator">Add Data Generator</button>
                                            </div>
                                            <br/>
                                            <br/>
                                            <div data-bind="foreach: dataGenerators">
                                                <div class="row-fluid">
                                                    <div class="thumbnail">
                                                        <div class="row-fluid">
                                                            <div class="span6">
                                                                <label class="span4">Name</label>
                                                                <input type="text" class="span8" data-bind="value: generatorName">
                                                            </div>
                                                            <div class="span5">
                                                                <label  class="span4">Type</label>
                                                                <select class="span8" data-bind="options: availableGeneratorTypes, value: generatorType">
                                                                </select>
                                                            </div>
                                                            <div class="span1">
                                                                <button type='button' class='close pull-right' data-bind="event: {'click': $parent.deleteDataGenerator}">×</button>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isDefault">
                                                            <h6>Input Details</h6>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isCounter">
                                                            <div class="row-fluid">
                                                                <div class="span6">
                                                                    <label class="span4">Start Value</label>
                                                                    <input type="text" data-bind="value: startValue">
                                                                </div>
                                                                <div class="span5">
                                                                    <label class="span4">Max Value</label>
                                                                    <input type="text" data-bind="value: maxValue">
                                                                </div>
                                                            </div>
                                                            <div class="row-fluid">
                                                                <div class="span6">
                                                                    <label class="span4">Jump</label>
                                                                    <input type="text" data-bind="value: jump">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isFixedValue">
                                                            <div class="span6">
                                                                <label class="span4">Value</label>
                                                                <input type="text" data-bind="value: startValue">
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isRandomNumber">
                                                            <div class="span6">
                                                                <label class="span4">Maximum Value</label>
                                                                <input type="text" data-bind="value: maxValue">
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isRandomSelection">
                                                            <div class="row-fluid">
                                                                <button class="btn" data-bind="click: addToSelectionList">Add To List</button>  
                                                            </div>
                                                            <br/>
                                                            <div class="row-fluid" data-bind="foreach: selectionList">
                                                                <div class="row-fluid">
                                                                    <div class="span6">
                                                                        <input type="text" data-bind="value: listValue">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromDisInfoList"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isRandomString">
                                                            <div class="row-fluid">
                                                                <div class="span6">
                                                                    <label class="span4">Type</label>
                                                                    <select class="span8" data-bind="options:availableStringTypes, value:stringType"></select>
                                                                </div>
                                                                <div class="span6">
                                                                    <label class="span4">Length</label>
                                                                    <input type="text" data-bind="value: stringLength">
                                                                </div>
                                                            </div>
                                                            <div class="row-fluid">
                                                                <div class="span6">
                                                                    <label class="span4">Closed String</label>
                                                                    <input type="text" data-bind="value: closedString">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isCyclicSelection">
                                                            <div class="row-fluid">
                                                                <button class="btn" data-bind="click: addToSelectionList">Add To List</button>  
                                                            </div>
                                                            <br/>
                                                            <div class="row-fluid" data-bind="foreach: selectionList">
                                                                <div class="row-fluid">
                                                                    <div class="span6">
                                                                        <input type="text" data-bind="value: listValue">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromDisInfoList"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isUseAndRemove">
                                                            <div class="row-fluid">
                                                                <button class="btn" data-bind="click: addToSelectionList">Add To List</button>  
                                                            </div>
                                                            <br/>
                                                            <div class="row-fluid" data-bind="foreach: selectionList">
                                                                <div class="row-fluid">
                                                                    <div class="span6">
                                                                        <input type="text" data-bind="value: listValue">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromDisInfoList"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isRandomDistribution">
                                                            <div class="row-fluid">
                                                                <button class="btn" data-bind="click: addtoDisInfoList">Add Distribution Map</button>   
                                                            </div>
                                                            <br/>
                                                            <br/>
                                                            <div class="row-fluid" data-bind="foreach: distributionInfoList">
                                                                <div class="row-fluid">
                                                                    <div class="span3">
                                                                        <label class="span4">Start</label>
                                                                        <input type="text" class="span8" data-bind="value: start">
                                                                    </div>
                                                                    <div class="span3">
                                                                        <label class="span4">End</label>
                                                                        <input type="text" class="span8" data-bind="value: end">
                                                                    </div>
                                                                    <div class="span3">
                                                                        <label class="span4">Value</label>
                                                                        <input type="text" class="span8" data-bind="value: val">
                                                                    </div>
                                                                    <div class="span3">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromDisInfoList"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row-fluid btn-group">
                                <button class="btn" data-bind="click: addFunction">Add Function</button>
                            </div>
                        </div>
                    </div>
                    <div class="row-fluid" data-bind="foreach: setupGroup().functions">
                        <div data-bind="visible: isVisible">
                            <fieldset>
                                <legend>Function</legend>
                            </fieldset>
                            <div class="row-fluid">
                                <label class="span3">Function Name</label>
                                <input type="text" class="span4" data-bind="value: functionName, refreshTree: functionName"/>
                            </div>
                            <div class="row-fluid">
                                <label class="span3">Function Class</label>
                                <select class="input-xlarge functionClass" data-bind="options: availableFunctionClass, value: selectedFunction, combobox: isVisible">
                                </select> 
                            </div>
                            <div class="accordion" data-bind="attr:{'id': accordionId}">
                                <div class="accordion-group">
                                    <div class="accordion-heading">
                                        <a class="accordion-toggle" data-toggle="collapse" data-bind="attr:{'data-parent': accordionId, 'href':InputParameterIdHref}"><strong>Input Parameters</strong></a>
                                    </div>
                                    <div class="row-fluid accordion-body collapse" data-bind="attr: {'id': InputParameterId}">
                                        <div class="accordion-inner">
                                            <div class="row-fluid" data-bind="foreach: availableParameters().inputParameters">
                                                <div class="row-fluid">
                                                    <div class="row-fluid thumbnail">
                                                        <div class="span3">
                                                            <label class="span10" data-bind="text: key"></label>
                                                            <div class="span2" data-bind="if: showButton">
                                                                <a class="btn btn-mini pull-right" data-bind="click: addElement"><i class="icon-plus"></i></a>
                                                            </div>
                                                        </div>
                                                        <div class="span9">
                                                            <div data-bind="if: isScalar">
                                                                <div class="row-fluid">
                                                                    <input type="text" data-bind="value: scalarValue"/>
                                                                </div>
                                                            </div>
                                                            <div data-bind="if: isHashMap">
                                                                <div data-bind="foreach: mapValue">
                                                                    <div class="row-fluid">
                                                                        <input class="span5" type="text" data-bind="value: name">
                                                                        <input class="span5" type="text" data-bind="value: keyValue">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromMap"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div data-bind="if: isList">
                                                                <div data-bind="foreach: listValue">
                                                                    <div class="row-fluid">
                                                                        <input class="span6" type="text" data-bind="value: keyValue">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromList"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row-fluid btn-group">
                                <button class="btn" data-bind="click: $parent.deleteFunction">Delete</button>
                            </div>
                        </div>
                    </div>
                    <div class="row-fluid" data-bind="foreach: groups">
                        <div data-bind="visible: isVisible">
                            <fieldset>
                                <legend>Group Details</legend>
                            </fieldset>
                            <div class="row-fluid">
                                <label class="span3">Group Name</label>
                                <input type="text" class="span4" data-bind="value: groupName, refreshTree: groupName">
                            </div>
                            <div class="row-fluid">
                                <div class="span6">
                                    <label class="span6">Group Start Delay</label>
                                    <input type="text" class="offset1 span5" data-bind="value: groupStartDelay"/>
                                </div>
                                <div class="span6">
                                    <label class="span6">Thread Start Delay</label>
                                    <input type="text" class="offset1 span5" data-bind="value: threadStartDelay"/>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span6">
                                    <label class="span6">Throughput</label>
                                    <input type="text" class="offset1 span5" data-bind="value: throughput"/>
                                </div>
                                <div class="span6">
                                    <label class="span6">Repeats</label>
                                    <input type="text" class="offset1 span5" data-bind="value: repeats"/>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span6">
                                    <label class="span6">Duration</label>
                                    <input type="text" class="offset1 span5" data-bind="value: duration"/>
                                </div>
                                <div class="span6">
                                    <label class="span6">Threads</label>
                                    <input type="text" class="offset1 span5" data-bind="value: threads"/>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span6">
                                    <label class="span6">Warm Up Repeats</label>
                                    <input type="text" class="offset1 span5" data-bind="value: warmUpRepeats"/>
                                </div>
                            </div>
                            <br/>
                            <div class="accordion" data-bind="attr:{'id': accordionId}">
                                <div class="accordion-group">
                                    <div class="accordion-heading">
                                        <a class="accordion-toggle" data-toggle="collapse" data-bind="attr:{'data-parent': accordionId, 'href':dependsOnSelectIdHref}"><strong>Add Group Dependency</strong></a>
                                    </div>
                                    <div class="row-fluid accordion-body collapse" data-bind="attr: {'id': dependsOnSelectId}">
                                        <div class="accordion-inner">
                                            <div class="row-fluid" data-bind="getGroups: isVisible">
                                                <select multiple="multiple" id="availableGroup" data-bind="options: availableGroups, selectedOptions: dependsOn">
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion" data-bind="attr:{'id': dataGenAccordionId}">
                                <div class="accordion-group">
                                    <div class="accordion-heading">
                                        <a class="accordion-toggle" data-toggle="collapse" data-bind="attr:{'data-parent': dataGenAccordionId, 'href':dataGenIdHref}"><strong>Data Generators</strong></a>
                                    </div>
                                    <div class="row-fluid accordion-body collapse" data-bind="attr: {'id': dataGenId}">
                                        <div class="accordion-inner">
                                            <div class="btn-group row-fluid">
                                                <button class="btn" data-bind="click: addDataGenerator">Add Data Generator</button>
                                            </div>
                                            <br/>
                                            <br/>
                                            <div data-bind="foreach: dataGenerators">
                                                <div class="row-fluid">
                                                    <div class="thumbnail">
                                                        <div class="row-fluid">
                                                            <div class="span6">
                                                                <label class="span4">Name</label>
                                                                <input type="text" class="span8" data-bind="value: generatorName">
                                                            </div>
                                                            <div class="span5">
                                                                <label  class="span4">Type</label>
                                                                <select class="span8" data-bind="options: availableGeneratorTypes, value: generatorType">
                                                                </select>
                                                            </div>
                                                            <div class="span1">
                                                                <button type='button' class='close pull-right' data-bind="event: {'click': $parent.deleteDataGenerator}">×</button>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isDefault">
                                                            <h6>Input Details</h6>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isCounter">
                                                            <div class="row-fluid">
                                                                <div class="span6">
                                                                    <label class="span4">Start Value</label>
                                                                    <input type="text" data-bind="value: startValue">
                                                                </div>
                                                                <div class="span5">
                                                                    <label class="span4">Max Value</label>
                                                                    <input type="text" data-bind="value: maxValue">
                                                                </div>
                                                            </div>
                                                            <div class="row-fluid">
                                                                <div class="span6">
                                                                    <label class="span4">Jump</label>
                                                                    <input type="text" data-bind="value: jump">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isFixedValue">
                                                            <div class="span6">
                                                                <label class="span4">Value</label>
                                                                <input type="text" data-bind="value: startValue">
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isRandomNumber">
                                                            <div class="span6">
                                                                <label class="span4">Maximum Value</label>
                                                                <input type="text" data-bind="value: maxValue">
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isRandomSelection">
                                                            <div class="row-fluid">
                                                                <button class="btn" data-bind="click: addToSelectionList">Add To List</button>  
                                                            </div>
                                                            <br/>
                                                            <div class="row-fluid" data-bind="foreach: selectionList">
                                                                <div class="row-fluid">
                                                                    <div class="span6">
                                                                        <input type="text" data-bind="value: listValue">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromDisInfoList"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isRandomString">
                                                            <div class="row-fluid">
                                                                <div class="span6">
                                                                    <label class="span4">Type</label>
                                                                    <select class="span8" data-bind="options:availableStringTypes, value:stringType"></select>
                                                                </div>
                                                                <div class="span6">
                                                                    <label class="span4">Length</label>
                                                                    <input type="text" data-bind="value: stringLength">
                                                                </div>
                                                            </div>
                                                            <div class="row-fluid">
                                                                <div class="span6">
                                                                    <label class="span4">Closed String</label>
                                                                    <input type="text" data-bind="value: closedString">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isCyclicSelection">
                                                            <div class="row-fluid">
                                                                <button class="btn" data-bind="click: addToSelectionList">Add To List</button>  
                                                            </div>
                                                            <br/>
                                                            <div class="row-fluid" data-bind="foreach: selectionList">
                                                                <div class="row-fluid">
                                                                    <div class="span6">
                                                                        <input type="text" data-bind="value: listValue">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromDisInfoList"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isUseAndRemove">
                                                            <div class="row-fluid">
                                                                <button class="btn" data-bind="click: addToSelectionList">Add To List</button>  
                                                            </div>
                                                            <br/>
                                                            <div class="row-fluid" data-bind="foreach: selectionList">
                                                                <div class="row-fluid">
                                                                    <div class="span6">
                                                                        <input type="text" data-bind="value: listValue">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromDisInfoList"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isRandomDistribution">
                                                            <div class="row-fluid">
                                                                <button class="btn" data-bind="click: addtoDisInfoList">Add Distribution Map</button>   
                                                            </div>
                                                            <br/>
                                                            <br/>
                                                            <div class="row-fluid" data-bind="foreach: distributionInfoList">
                                                                <div class="row-fluid">
                                                                    <div class="span3">
                                                                        <label class="span4">Start</label>
                                                                        <input type="text" class="span8" data-bind="value: start">
                                                                    </div>
                                                                    <div class="span3">
                                                                        <label class="span4">End</label>
                                                                        <input type="text" class="span8" data-bind="value: end">
                                                                    </div>
                                                                    <div class="span3">
                                                                        <label class="span4">Value</label>
                                                                        <input type="text" class="span8" data-bind="value: val">
                                                                    </div>
                                                                    <div class="span3">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromDisInfoList"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion" data-bind="attr:{'id': timersAccordionId}">
                                <div class="accordion-group">
                                    <div class="accordion-heading">
                                        <a class="accordion-toggle" data-toggle="collapse" data-bind="attr:{'data-parent': timersAccordionId, 'href': addTimersIdHref}"><strong>Add Group Timers</strong></a>
                                    </div>
                                    <div class="row-fluid accordion-body collapse" data-bind="attr: {'id': addTimersId}">
                                        <div class="accordion-inner">
                                            <div class="btn-group row-fluid">
                                                <button class="btn" data-bind="click: addTimer">Add Timer</button>
                                            </div>
                                            <br/>
                                            <br/>
                                            <div data-bind="foreach: timers">
                                                <div class="row-fluid">
                                                    <div class="thumbnail">
                                                        <div class="row-fluid">
                                                            <label class="span2">Timer Name</label>
                                                            <input type="text" class="span4" data-bind="value: timerName"/>
                                                            <button type='button' class='close pull-right' data-bind="event: {'click': $parent.deleteTimer}">×</button>
                                                        </div>
                                                        <div class="row-fluid">
                                                            <div class="span4">
                                                                <label class="span6">Duration</label>
                                                                <input id="duration" type="text" class="span6" data-bind="value: duration"/>
                                                            </div>
                                                            <div class="span4">
                                                                <label class="span6">Threads</label>
                                                                <input id="threads" type="text" class="span6" data-bind="value: threads"/>
                                                            </div>
                                                            <div class="span4">
                                                                <label class="span6">Throughput</label>
                                                                <input id="throughput" type="text" class="span6" data-bind="value: throughput"/>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <br/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row-fluid btn-group">
                                <button class="btn" data-bind="click: addFunction">Add Function</button>
                                <button class="btn" data-bind="click: $parent.deleteGroup">Delete</button>
                            </div>
                        </div>
                        <div class="row-fluid" data-bind="foreach: functions">
                            <div data-bind="visible: isVisible">
                                <fieldset>
                                    <legend>Function</legend>
                                </fieldset>
                                <div class="row-fluid">
                                    <label class="span3">Function Name</label>
                                    <input type="text" class="span4" data-bind="value: functionName, refreshTree: functionName"/>
                                </div>
                                <div class="row-fluid">
                                    <label class="span3">Function Class</label>
                                    <select class="input-xlarge functionClass" data-bind="options: availableFunctionClass, value: selectedFunction, combobox: isVisible">
                                    </select> 
                                </div>
                                <div class="row-fluid">
                                    <label class="span3">Dump Data</label>
                                    <select id="dumpDataSel" class="span2" data-bind="options: dumpOpts, value: dumpData">
                                    </select>
                                </div>
                                <div class="accordion" data-bind="attr:{'id': accordionId}">
                                    <div class="accordion-group">
                                        <div class="accordion-heading">
                                            <a class="accordion-toggle" data-toggle="collapse" data-bind="attr:{'data-parent': accordionId, 'href':InputParameterIdHref}"><strong>Input Parameters</strong></a>
                                        </div>
                                        <div class="row-fluid accordion-body collapse" data-bind="attr: {'id': InputParameterId}">
                                            <div class="accordion-inner">
                                                <div class="row-fluid" data-bind="foreach: availableParameters().inputParameters">
                                                    <div class="row-fluid thumbnail">
                                                        <div class="span3">
                                                            <label class="span10" data-bind="text: key"></label>
                                                            <div class="span2" data-bind="if: showButton">
                                                                <a class="btn btn-mini pull-right" data-bind="click: addElement"><i class="icon-plus"></i></a>
                                                            </div>
                                                        </div>
                                                        <div class="span9 rightBlock">
                                                            <div data-bind="if: isScalar">
                                                                <div class="row-fluid">
                                                                    <input type="text" data-bind="value: scalarValue"/>
                                                                </div>
                                                            </div>
                                                            <div data-bind="if: isHashMap">
                                                                <div data-bind="foreach: mapValue">
                                                                    <div class="row-fluid">
                                                                        <input class="span5" type="text" data-bind="value: name">
                                                                        <input class="span5" type="text" data-bind="value: keyValue">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromMap"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div data-bind="if: isList">
                                                                <div data-bind="foreach: listValue">
                                                                    <div class="row-fluid">
                                                                        <input class="span6" type="text" data-bind="value: keyValue">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromList"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion" data-bind="attr:{'id': timerAccordionId}">
                                    <div class="accordion-group">
                                        <div class="accordion-heading">
                                            <a class="accordion-toggle" data-toggle="collapse" data-bind="attr:{'data-parent': timerAccordionId, 'href':timerIdHref}"><strong>Custom Timers</strong></a>
                                        </div>
                                        <div class="row-fluid accordion-body collapse" data-bind="attr: {'id': timerId}">
                                            <div class="accordion-inner">
                                                <select id="customTimersList" multiple="multiple" data-bind="options: availableParameters().customTimers, selectedOptions: selectedCustomTimers, multiSelect: isVisible">
                                        </select>   
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion" data-bind="attr:{'id': histAccordionId}">
                                    <div class="accordion-group">
                                        <div class="accordion-heading">
                                            <a class="accordion-toggle" data-toggle="collapse" data-bind="attr:{'data-parent': histAccordionId, 'href':histIdHref}"><strong>Custom Histograms</strong></a>
                                        </div>
                                        <div class="row-fluid accordion-body collapse" data-bind="attr: {'id': histId}">
                                            <div class="accordion-inner">
                                                <select id="histogramsList" multiple="multiple" data-bind="options: availableParameters().histograms, selectedOptions: selectedHistograms, multiSelect: isVisible">
                                        </select>   
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion" data-bind="attr:{'id': counterAccordionId}">
                                    <div class="accordion-group">
                                        <div class="accordion-heading">
                                            <a class="accordion-toggle" data-toggle="collapse" data-bind="attr:{'data-parent': histAccordionId, 'href':counterIdHref}"><strong>Custom Counters</strong></a>
                                        </div>
                                        <div class="row-fluid accordion-body collapse" data-bind="attr: {'id': counterId}">
                                            <div class="accordion-inner">
                                                <select id="customCountersList" multiple="multiple" data-bind="options: availableParameters().customCounters, selectedOptions: selectedCustomCounters, multiSelect: isVisible">
                                        </select>   
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row-fluid btn-group">
                                    <button class="btn" data-bind="click: $parent.deleteFunction">Delete</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row-fluid" data-bind="visible: tearDownVisible"> 
                        <div class="row-fluid" data-bind="with: tearDownGroup">
                            <fieldset>
                                    <legend>Group Details</legend>
                            </fieldset>
                            <div class="row-fluid">
                                <label class="span3">Group Name</label>
                                <label class="span4" data-bind="text: groupName"></label>
                            </div>
                            <div class="row-fluid">
                                <div class="span6">
                                    <label class="span6">Group Start Delay</label>
                                    <input type="text" class="offset1 span5" data-bind="value: groupStartDelay"/>
                                </div>
                                <div class="span6">
                                    <label class="span6">Thread Start Delay</label>
                                    <input type="text" class="offset1 span5" data-bind="value: threadStartDelay"/>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span6">
                                    <label class="span6">Throughput</label>
                                    <input type="text" class="offset1 span5" data-bind="value: throughput"/>
                                </div>
                                <div class="span6">
                                    <label class="span6">Repeats</label>
                                    <input type="text" class="offset1 span5" data-bind="value: repeats"/>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="span6">
                                    <label class="span6">Duration</label>
                                    <input type="text" class="offset1 span5" data-bind="value: duration"/>
                                </div>
                                <div class="span6">
                                    <label class="span6">Threads</label>
                                    <input type="text" class="offset1 span5" data-bind="value: threads"/>
                                </div>
                            </div>
                            <div class="accordion" data-bind="attr:{'id': dataGenAccordionId}">
                                <div class="accordion-group">
                                    <div class="accordion-heading">
                                        <a class="accordion-toggle" data-toggle="collapse" data-bind="attr:{'data-parent': dataGenAccordionId, 'href':dataGenIdHref}"><strong>Data Generators</strong></a>
                                    </div>
                                    <div class="row-fluid accordion-body collapse" data-bind="attr: {'id': dataGenId}">
                                        <div class="accordion-inner">
                                            <div class="btn-group row-fluid">
                                                <button class="btn" data-bind="click: addDataGenerator">Add Data Generator</button>
                                            </div>
                                            <br/>
                                            <br/>
                                            <div data-bind="foreach: dataGenerators">
                                                <div class="row-fluid">
                                                    <div class="thumbnail">
                                                        <div class="row-fluid">
                                                            <div class="span6">
                                                                <label class="span4">Name</label>
                                                                <input type="text" class="span8" data-bind="value: generatorName">
                                                            </div>
                                                            <div class="span5">
                                                                <label  class="span4">Type</label>
                                                                <select class="span8" data-bind="options: availableGeneratorTypes, value: generatorType">
                                                                </select>
                                                            </div>
                                                            <div class="span1">
                                                                <button type='button' class='close pull-right' data-bind="event: {'click': $parent.deleteDataGenerator}">×</button>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isDefault">
                                                            <h6>Input Details</h6>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isCounter">
                                                            <div class="row-fluid">
                                                                <div class="span6">
                                                                    <label class="span4">Start Value</label>
                                                                    <input type="text" data-bind="value: startValue">
                                                                </div>
                                                                <div class="span5">
                                                                    <label class="span4">Max Value</label>
                                                                    <input type="text" data-bind="value: maxValue">
                                                                </div>
                                                            </div>
                                                            <div class="row-fluid">
                                                                <div class="span6">
                                                                    <label class="span4">Jump</label>
                                                                    <input type="text" data-bind="value: jump">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isFixedValue">
                                                            <div class="span6">
                                                                <label class="span4">Value</label>
                                                                <input type="text" data-bind="value: startValue">
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isRandomNumber">
                                                            <div class="span6">
                                                                <label class="span4">Maximum Value</label>
                                                                <input type="text" data-bind="value: maxValue">
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isRandomSelection">
                                                            <div class="row-fluid">
                                                                <button class="btn" data-bind="click: addToSelectionList">Add To List</button>  
                                                            </div>
                                                            <br/>
                                                            <div class="row-fluid" data-bind="foreach: selectionList">
                                                                <div class="row-fluid">
                                                                    <div class="span6">
                                                                        <input type="text" data-bind="value: listValue">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromDisInfoList"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isRandomString">
                                                            <div class="row-fluid">
                                                                <div class="span6">
                                                                    <label class="span4">Type</label>
                                                                    <select class="span8" data-bind="options:availableStringTypes, value:stringType"></select>
                                                                </div>
                                                                <div class="span6">
                                                                    <label class="span4">Length</label>
                                                                    <input type="text" data-bind="value: stringLength">
                                                                </div>
                                                            </div>
                                                            <div class="row-fluid">
                                                                <div class="span6">
                                                                    <label class="span4">Closed String</label>
                                                                    <input type="text" data-bind="value: closedString">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isCyclicSelection">
                                                            <div class="row-fluid">
                                                                <button class="btn" data-bind="click: addToSelectionList">Add To List</button>  
                                                            </div>
                                                            <br/>
                                                            <div class="row-fluid" data-bind="foreach: selectionList">
                                                                <div class="row-fluid">
                                                                    <div class="span6">
                                                                        <input type="text" data-bind="value: listValue">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromDisInfoList"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isUseAndRemove">
                                                            <div class="row-fluid">
                                                                <button class="btn" data-bind="click: addToSelectionList">Add To List</button>  
                                                            </div>
                                                            <br/>
                                                            <div class="row-fluid" data-bind="foreach: selectionList">
                                                                <div class="row-fluid">
                                                                    <div class="span6">
                                                                        <input type="text" data-bind="value: listValue">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromDisInfoList"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid" data-bind="if: isRandomDistribution">
                                                            <div class="row-fluid">
                                                                <button class="btn" data-bind="click: addtoDisInfoList">Add Distribution Map</button>   
                                                            </div>
                                                            <br/>
                                                            <br/>
                                                            <div class="row-fluid" data-bind="foreach: distributionInfoList">
                                                                <div class="row-fluid">
                                                                    <div class="span3">
                                                                        <label class="span4">Start</label>
                                                                        <input type="text" class="span8" data-bind="value: start">
                                                                    </div>
                                                                    <div class="span3">
                                                                        <label class="span4">End</label>
                                                                        <input type="text" class="span8" data-bind="value: end">
                                                                    </div>
                                                                    <div class="span3">
                                                                        <label class="span4">Value</label>
                                                                        <input type="text" class="span8" data-bind="value: val">
                                                                    </div>
                                                                    <div class="span3">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromDisInfoList"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row-fluid btn-group">
                                <button class="btn" data-bind="click: addFunction">Add Function</button>
                            </div>
                        </div>
                    </div>
                    <div class="row-fluid" data-bind="foreach: tearDownGroup().functions">
                        <div data-bind="visible: isVisible">
                            <fieldset>
                                <legend>Function</legend>
                            </fieldset>
                            <div class="row-fluid">
                                <label class="span3">Function Name</label>
                                <input type="text" class="span4" data-bind="value: functionName, refreshTree: functionName"/>
                            </div>
                            <div class="row-fluid">
                                <label class="span3">Function Class</label>
                                <select class="input-xlarge functionClass" data-bind="options: availableFunctionClass, value: selectedFunction, combobox: isVisible">
                                </select> 
                            </div>
                            <div class="accordion" data-bind="attr:{'id': accordionId}">
                                <div class="accordion-group">
                                    <div class="accordion-heading">
                                        <a class="accordion-toggle" data-toggle="collapse" data-bind="attr:{'data-parent': accordionId, 'href':InputParameterIdHref}"><strong>Input Parameters</strong></a>
                                    </div>
                                    <div class="row-fluid accordion-body collapse" data-bind="attr: {'id': InputParameterId}">
                                        <div class="accordion-inner">
                                            <div class="row-fluid" data-bind="foreach: availableParameters().inputParameters">
                                                <div class="row-fluid thumbnail">
                                                    <div class="span3">
                                                        <label class="span10" data-bind="text: key"></label>
                                                        <div class="span2" data-bind="if: showButton">
                                                            <a class="btn btn-mini pull-right" data-bind="click: addElement"><i class="icon-plus"></i></a>
                                                        </div>
                                                    </div>
                                                    <div class="span9">
                                                        <div data-bind="if: isScalar">
                                                            <div class="row-fluid">
                                                                <input type="text" data-bind="value: scalarValue"/>
                                                            </div>
                                                        </div>
                                                        <div data-bind="if: isHashMap">
                                                                <div data-bind="foreach: mapValue">
                                                                    <div class="row-fluid">
                                                                        <input class="span5" type="text" data-bind="value: name">
                                                                        <input class="span5" type="text" data-bind="value: keyValue">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromMap"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div data-bind="if: isList">
                                                                <div data-bind="foreach: listValue">
                                                                    <div class="row-fluid">
                                                                        <input class="span6" type="text" data-bind="value: keyValue">
                                                                        <a class="btn btn-mini" data-bind="click: $parent.removeFromList"><i class="icon-minus"></i></a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row-fluid btn-group">
                                <button class="btn" data-bind="click: $parent.deleteFunction">Delete</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row-fluid" data-bind="foreach: metricCollections">
                    <div class="row-fluid" data-bind="visible: isVisible">
                        <fieldset>
                            <legend>Monitoring Agent</legend>
                            <div class="span12">
                                <div class="span12 input-append">
                                    <input id="agent" class="span4" type="text" data-bind="value: agent, refreshTree: agent"/>                  
                                </div>
                            </div>
                        </fieldset>
                        <div class="accordion" data-bind="attr:{'id': defaultResourcesId}">
                        <div class="accordion-group">
                            <div class="accordion-heading">
                                <a class="accordion-toggle" data-toggle="collapse" data-bind="attr:{'data-parent': defaultResourcesId, 'href':monitorResourcesHref}"><strong>Monitor Resources</strong></a>
                            </div>
                            <div class="row-fluid accordion-body collapse" data-bind="attr: {'id': monitorResourcesId}">
                                <div class="accordion-inner">
                                    <select multiple="multiple" id="resources" data-bind="options: availableResources, selectedOptions: selectedResources, multiSelect: isVisible">
                                    </select>
                                </div>
                            </div>
                        </div>
                        </div>
                        <div class="accordion" data-bind="attr:{'id': onDemandColId}">
                        <div class="accordion-group">
                            <div class="accordion-heading">
                                <a class="accordion-toggle" data-toggle="collapse" data-bind="attr:{'data-parent': onDemandColId, 'href':collectorIdHref}"><strong>On Demand Monitor Resources</strong></a>
                            </div>
                            <div class="row-fluid accordion-body collapse" data-bind="attr: {'id': collectorId}">
                                <div class="accordion-inner">
                                    <button class="btn" data-bind="click: addOnDemandCollector">Add On Demand Collector</button>
                                    <br/>
                                    <br/>
                                    <div class="row-fluid" data-bind="foreach: onDemandCollectors">
                                        <div class="thumbnail">
                                            <div class="row-fluid">
                                                <label class="span2">Collector Name</label>
                                                <input type="text" data-bind="value: colName">
                                                <button type='button' class='close pull-right' data-bind="event: {'click': $parent.removeOnDemandCollector}">×</button>
                                            </div>
                                            <div class="row-fluid">
                                                <div class="span6">
                                                    <label class="span4">Collector</label>
                                                    <select class="span8" data-bind="options:collectorNames, value:selectedCollector">
                                                    </select>
                                                </div>
                                                <div class="span6">
                                                    <label class="span4">Interval</label>
                                                    <div class="input-append">
                                                        <input type="text" data-bind="value: interval">
                                                        <span class="add-on">Sec</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row-fluid" data-bind="visible: isDefault">
                                                <div class="row-fluid">
                                                    <h5>Collector Parameters</h5>
                                                </div>
                                                <div data-bind="foreach: collectorParameters">
                                                    <div class="row-fluid">
                                                        <label class="span2"><span data-bind="text: paramKey"></span></label>
                                                        <input class="span4" data-bind="value: paramValue">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <br/>
                                </div>
                            </div>
                        </div>
                        </div>
                        <div class="btn-group span6">
                            <button class="btn" data-bind="click: $parent.deleteMonitoringAgent">Delete
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row-fluid base col-wrap">
    <!-- add a second row of wells or rounded corner divs immeadiately underneath-->
        <div class="span4 col-base well"></div>
        <div class="span8 col-base well"></div>
    </div><!-- close row -->
    </div>
    <div id="JSON" class="row-fluid">
        <div class="span12 well">
            <textarea rows="15" id="runJson" class="span12"></textarea>
        </div>
    </div>
    <div class="row-fluid">
        <div id="btngrp" class="offset4">
            <div class="btn-group">
                <button class="btn" onClick="createRun()">Create</button>
            </div>
        </div>
    </div>
    <br/>
    <br/>
    <div id="moveAway" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="moveAway" aria-hidden="true">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3>Delete Run</h3>
        </div>
        <div class="modal-body">
            <p>Are you sure, you want to delete the run??</p>
        </div>
        <div class="modal-footer">
            <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
            <button id="delRunButt" class="btn btn-primary" data-dismiss="modal" aria-hidden="true">Yes</button>
        </div>
    </div>
</body>
</html>
